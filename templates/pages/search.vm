## ============================================
## templates/pages/search.vm
## ============================================
##
## Página principal de busca
##
#set($searcher = $request.searcher)
#set($params = $request.params)
#set($clusters = $response.response.clusters)
#set($mltResults = $response.response.get("moreLikeThis"))
#set($annotate = $params.get("annotateBrowse"))

## templates/pages/search.vm

## Formulário de busca
#parse("components/query-form.vm")

#set($hasQuery = $params.get('q') && $params.get('q').trim() != '')
#set($hasFilters = $params.getParams('fq').size() > 0)

#if($hasQuery || $hasFilters)
    ## Sugestão de correção
    #parse("components/did-you-mean.vm")

    ## Navegação lateral
    <div class="navigators">
        #parse("components/facets.vm")
    </div>

    ## Paginação superior
    #parse("components/pagination.vm")

    ## Mensagens de erro
    <div class="error">
        #if($response.response.error.code)
            <h1>ERROR $response.response.error.code</h1>
            $response.response.error.msg
        #end
    </div>

    ## Resultados
    #parse("components/search-results.vm")

    ## Paginação inferior
    #parse("components/pagination.vm")
#end